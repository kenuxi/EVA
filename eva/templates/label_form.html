<fieldset class="form-group">
  <legend class="border-bottom mb-4">Data Preview</legend>
  {%if df.shape[0] * df.shape[1] > 5000 %}
    <table id="table_id" class="table table-striped table-bordered" style="width:100%">
      <thead>
          <tr>
            <th>ID</th>
            {% for column in df.columns %}
              <th>{{ column }}</th>
            {% endfor %}
          </tr>
      </thead>
      <tbody>
        {% for row in df.head(5).itertuples() %}
          <tr>
            {% for column in row %}
              <td>{{ column }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <span class="text-danger">Note: Dataset is large (>5000 Datapoints). Only top 5 rows are loaded for preview (df.head).</span>

  {% else%}
    <table id="table_id" class="table table-striped table-bordered" style="width:100%">
      <thead>
          <tr>
            <th>ID</th>
            {% for column in df.columns %}
              <th>{{ column }}</th>
            {% endfor %}
          </tr>
      </thead>
      <tbody>
        {% for row in df.itertuples() %}
          <tr>
            {% for column in row %}
              <td>{{ column }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>

  {%endif%}

  <div class="content-section">
    <div class="row">
      <div class="col-12 mt-3 mb-3">
        <form method="POST" action="">
          {{ label_form.hidden_tag() }}

          <fieldset class="form-group">
            <legend class="border-bottom mb-4">Labels and Outliers</legend>
            <div class="row">

              <div class="form-group col-3">
                Rows: {{df.shape[0]}} <br/>
                Columns: {{df.shape[1]}} <br/>
              </div>

              <div class="form-group col-3">
                <p>{{ label_form.label_column.label }}
                {{ label_form.label_column }}</p>
                {% for error in label_form.label_column.errors %}
                  <span style="color: red;">[{{ error }}]</span>
                {% endfor %}

              </div>

            </div>
          </fieldset>

        </form>
      </div>
    </div>
  </div>
</fieldset>
